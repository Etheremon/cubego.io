export class LoadingScreen {
  constructor(renderingCanvas) {
    this._loadingDiv = null;
    this._loadingTextDiv = null;
    this._renderingCanvas = renderingCanvas;
    this._loadingText = "";
    this.isInLoading = false;
    this._resizeLoadingUI = this._resizeLoadingUI.bind(this);
  }

  displayLoadingUI() {
    this.isInLoading = true;
    if (this._loadingDiv) {
      return;
    }

    this._loadingDiv = document.createElement("div");
    this._loadingDiv.id = "cubegoLoadingDiv";

    this._loadingTextDiv = document.createElement("div");
    this._loadingTextDiv.style.position = "absolute";
    this._loadingTextDiv.style.left = "0";
    this._loadingTextDiv.style.top = "40%";
    this._loadingTextDiv.style.marginTop = "80px";
    this._loadingTextDiv.style.width = "100%";
    this._loadingTextDiv.style.height = "20px";
    this._loadingTextDiv.style.fontFamily = "Arial";
    this._loadingTextDiv.style.fontSize = "14px";
    this._loadingTextDiv.style.color = "white";
    this._loadingTextDiv.style.textAlign = "center";
    this._loadingTextDiv.innerHTML = "Loading";
    this._loadingTextDiv.style.color = 'black';

    this._loadingDiv.appendChild(this._loadingTextDiv);

    this._loadingTextDiv.innerHTML = this._loadingText;

    let style = document.createElement('style');
    style.type = 'text/css';
    let keyFrames =
      `@-webkit-keyframes spin1 {\
                    0% { -webkit-transform: rotate(0deg);}
                    100% { -webkit-transform: rotate(360deg);}
                }\
                @keyframes spin1 {\
                    0% { transform: rotate(0deg);}
                    100% { transform: rotate(360deg);}
                }`;
    style.innerHTML = keyFrames;
    document.getElementsByTagName('head')[0].appendChild(style);

    let imgBack = new Image();
    imgBack.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFM2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHRpZmY6T3JpZW50YXRpb249IjEiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTEwLTMxVDEwOjM2OjE5KzA3OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0xMC0zMVQxMDozNjo1OCswNzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0xMC0zMVQxMDozNjo1OCswNzowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpi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";
    // imgBack.src = require('../../../shared/img/logo/cubego_64.png');
    imgBack.style.position = "absolute";
    imgBack.style.left = "50%";
    imgBack.style.top = "50%";
    imgBack.style.marginLeft = "-32px";
    imgBack.style.marginTop = "-32px";
    imgBack.style.animation = "spin1 2s infinite ease-in-out";
    imgBack.style.webkitAnimation = "spin1 2s infinite ease-in-out";
    imgBack.style.transformOrigin = "50% 50%";
    imgBack.style.webkitTransformOrigin = "50% 50%";

    this._loadingDiv.appendChild(imgBack);

    this._resizeLoadingUI();

    window.addEventListener("resize", this._resizeLoadingUI);

    document.body.appendChild(this._loadingDiv);

    this._loadingDiv.style.opacity = "1";
  }

  hideLoadingUI() {
    this.isInLoading = false;

    if (!this._loadingDiv) {
      return;
    }

    setTimeout(() => {
      this._removeLoadingDiv();
    }, 2000);
  };

  forceHideLoadingUI() {
    this.isInLoading = false;
    this._removeLoadingDiv();
  }

  _removeLoadingDiv() {
    if (!this._loadingDiv) return;
    document.body.removeChild(this._loadingDiv);
    window.removeEventListener("resize", this._resizeLoadingUI);
    this._loadingDiv = null;
  }

  _resizeLoadingUI() {
    let canvasRect = this._renderingCanvas.getBoundingClientRect();
    let canvasPositioning = window.getComputedStyle(this._renderingCanvas).position;

    if (!this._loadingDiv) {
      return;
    }

    this._loadingDiv.style.position = (canvasPositioning === "fixed") ? "fixed" : "absolute";
    this._loadingDiv.style.left = canvasRect.left + "px";
    this._loadingDiv.style.top = canvasRect.top + "px";
    this._loadingDiv.style.width = canvasRect.width + "px";
    this._loadingDiv.style.height = canvasRect.height + "px";
  }
}
